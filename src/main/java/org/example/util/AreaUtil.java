package org.example.util;

import com.alibaba.fastjson.JSONObject;
import org.example.model.Area;

import java.util.List;
import java.util.Objects;
import java.util.Optional;
import java.util.stream.Collectors;

public class AreaUtil {

    static List<Area> areas;
    static {
        String jsonArr = "[{\"id\":\"2\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"上海\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"7\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"星河湾店\",\"sort\":-1,\"remark\":\"9\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"8\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"前滩店\",\"sort\":-1,\"remark\":\"12\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"41\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"长泰广场店\",\"sort\":-1,\"remark\":\"20\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"59\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"奈尔宝科技馆\",\"sort\":-1,\"remark\":\"28\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"53\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"天空之城店\",\"sort\":-1,\"remark\":\"31\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"64\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"森兰花园城店\",\"sort\":-1,\"remark\":\"34\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"69\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"豫园店\",\"sort\":-1,\"remark\":\"41\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"72\",\"parentId\":\"2\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"爱琴海店\",\"sort\":-1,\"remark\":\"42\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"4\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"杭州\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"10\",\"parentId\":\"4\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"星光店\",\"sort\":-1,\"remark\":\"8\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"76\",\"parentId\":\"4\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"天空之城店\",\"sort\":-1,\"remark\":\"49\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"3\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"成都\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"9\",\"parentId\":\"3\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"环球中心店\",\"sort\":-1,\"remark\":\"10\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"35\",\"parentId\":\"3\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"大悦城店\",\"sort\":-1,\"remark\":\"15\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"75\",\"parentId\":\"3\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"天府大悦城店\",\"sort\":-1,\"remark\":\"48\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"80\",\"parentId\":\"3\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"光环购物公园店\",\"sort\":-1,\"remark\":\"53\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"5\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"深圳\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"11\",\"parentId\":\"5\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"海雅缤纷城店\",\"sort\":-1,\"remark\":\"11\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"33\",\"parentId\":\"5\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"卓悦中心店\",\"sort\":-1,\"remark\":\"16\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"54\",\"parentId\":\"5\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"印力中心店\",\"sort\":-1,\"remark\":\"26\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"77\",\"parentId\":\"5\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"汇港购物中心店\",\"sort\":-1,\"remark\":\"50\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"6\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"南京\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"12\",\"parentId\":\"6\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"华采天地店\",\"sort\":-1,\"remark\":\"1\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"52\",\"parentId\":\"6\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"金象城店\",\"sort\":-1,\"remark\":\"25\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"25\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"长沙\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"26\",\"parentId\":\"25\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"运达汇店\",\"sort\":-1,\"remark\":\"14\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"37\",\"parentId\":\"25\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"大悦城店\",\"sort\":-1,\"remark\":\"19\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"30\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"北京\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"31\",\"parentId\":\"30\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"王府井奥莱UP TOWN店\",\"sort\":-1,\"remark\":\"13\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"70\",\"parentId\":\"30\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"东坝万达店\",\"sort\":-1,\"remark\":\"45\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"78\",\"parentId\":\"30\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"宜家荟聚店\",\"sort\":-1,\"remark\":\"52\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"32\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"西安\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"34\",\"parentId\":\"32\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"银泰店\",\"sort\":-1,\"remark\":\"17\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"79\",\"parentId\":\"32\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"宜家荟聚店\",\"sort\":-1,\"remark\":\"51\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"36\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"苏州\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"38\",\"parentId\":\"36\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"大悦春风里店\",\"sort\":-1,\"remark\":\"18\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"39\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"宁波\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"43\",\"parentId\":\"39\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"鄞州万达店\",\"sort\":-1,\"remark\":\"21\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"40\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"温州\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"42\",\"parentId\":\"40\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"印象城店\",\"sort\":-1,\"remark\":\"22\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"44\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"重庆\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"45\",\"parentId\":\"44\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"大悦城店\",\"sort\":-1,\"remark\":\"23\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"71\",\"parentId\":\"44\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"印象城店\",\"sort\":-1,\"remark\":\"43\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"73\",\"parentId\":\"44\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"光环购物公园店\",\"sort\":-1,\"remark\":\"46\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"74\",\"parentId\":\"44\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"时代天街店\",\"sort\":-1,\"remark\":\"47\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"46\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"东莞\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"47\",\"parentId\":\"46\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"汇一城店\",\"sort\":-1,\"remark\":\"27\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"48\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"厦门\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"50\",\"parentId\":\"48\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"海上世界店\",\"sort\":-1,\"remark\":\"30\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"49\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"济南\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"51\",\"parentId\":\"49\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"华山环宇城店\",\"sort\":-1,\"remark\":\"29\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"55\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"绍兴\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"56\",\"parentId\":\"55\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"大悦城店\",\"sort\":-1,\"remark\":\"32\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"57\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"沈阳\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"58\",\"parentId\":\"57\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"和平环宇城店\",\"sort\":-1,\"remark\":\"33\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"60\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"广州\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"61\",\"parentId\":\"60\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"悦汇城店\",\"sort\":-1,\"remark\":\"35\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"62\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"无锡\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"63\",\"parentId\":\"62\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"江南大悦城店\",\"sort\":-1,\"remark\":\"36\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"65\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"武汉\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"67\",\"parentId\":\"65\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"国金天地店\",\"sort\":-1,\"remark\":\"39\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false},{\"id\":\"66\",\"parentId\":\"1\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"天津\",\"sort\":-1,\"remark\":\"\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"children\":[{\"id\":\"68\",\"parentId\":\"66\",\"code\":\"\",\"dictKey\":-1,\"dictValue\":\"金茂汇店\",\"sort\":-1,\"remark\":\"40\",\"isDeleted\":-1,\"isWeekDay\":false,\"endDate\":\"\",\"excludeDates\":\"\",\"includeDates\":\"\",\"parentName\":\"\",\"hasChildren\":false}],\"parentName\":\"\",\"hasChildren\":false}]";
        areas = JSONObject.parseArray(jsonArr, Area.class);
    }

    public static List<Area> getAreas(){
        return areas;
    }

    public static List<Area> getShops(String id) {
        return areas.stream()
                .filter(t -> t.getId().equals(id))
                .flatMap(t->t.getChildren().stream())
                .collect(Collectors.toList());
    }

    public static Optional<Area> getArea(String shopId){
        for (Area area : areas) {
            if (area.getChildren() != null) {
                for (Area child : area.getChildren()) {
                    if (Objects.equals(child.getRemark(), shopId)) {
                        return Optional.of(child);
                    }
                }
            }
        }
        return Optional.empty();
    }
}
